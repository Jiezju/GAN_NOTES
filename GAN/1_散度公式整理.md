## 散度

- **f 散度 - 广义散度公式**

	$$D_f(P||Q) = \int_x q(x) f(\frac {p(x)}{q(x)}) dx$$
    
    其中，$f$ 表示一个函数超参数

	当 $f$ 满足以下两个两个条件，就可以使用 $D_f(P||Q)$ 衡量两种概率分布的差异
   - $f$ 函数是一个凸函数
   - $f(1) = 0$
   
   上述条件满足就是满足了 $f$ 散度 非负
   
   证明：使用 **Jensen** 不等式
   		
        $$E(f(x)) \ge f(E(x))$$
        
        则有：
        
        $$D_f(P||Q) = \int_x q(x) f(\frac {p(x)}{q(x)}) dx = E_{x-q(x)}[ f(\frac {p(x)}{q(x)}] \ge f[ E_{x-q(x)}[\frac {p(x)}{q(x)}]]$$
        
        $$ f[ E_{x-q(x)}[\frac {p(x)}{q(x)}]] = f(\int_x q(x) \cdot \frac{p(x)}{q(x)}dx) = f(1)$$
            
   - 当 $f(x) = xlogx$，$f$ 散度 <==> **KL散度**

		$$D_f(P||Q) = \int_x p(x)log(\frac {p(x)}{q(x)})dx$$
        
   - 当 $f(x) = -(x+1)log{\frac {1+x}{2}} + xlogx$，$f$ 散度 <==> **JS散度**

		$$D_f(P||Q) = \frac {1}{2}\int_x p(x)log(\frac {2p(x)}{q(x) + p(x)}) + q(x)log(\frac {2q(x)}{q(x) + p(x)})dx$$